DNS replication  
---  
В протокол DNS встроена возможность репликации зон. Это происходит с помощью апросов  
  - AXFR (transfer all records)  
  - IXFR (incremental transfer)  
Для репликации DNS использует протокол tcp, т.к. важна гарантия доставки  
  
Репликация происходит только при одном условии - local-serial < remote_serial. Проверка serial является частью процесса репликации.  
Репликация может быть инициирована следующими событиями:  
  - ручной запуск(reload)  
  - истечение timeout указанного в SOA  
  - NOTIFY-запрос
    
![](https://github.com/dbudakov/23.DNS/blob/master/images/DNS/replica.png)
На рисунке мы видим что slave-сервер запросил SOA запись, master-сервер отдал ему SOA. Спустя какое-то приходит время сверки SOA и slave-сервер видит что значение serial имеющегося файла, меньше чем значение серийника на мастере, соответственно он делает AXFR и master пересылает ему новую зону.   
